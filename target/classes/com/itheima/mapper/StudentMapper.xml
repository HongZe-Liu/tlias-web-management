<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.itheima.mapper.StudentMapper">
    <!--添加学生信息-->
    <insert id="AddStudent">
        INSERT INTO Student (name, no, gender, phone, degree, clazz_id, id_card, is_college, address, graduation_date)
        VALUES (#{name},#{no},#{gender},#{phone},#{degree},#{clazzId},#{idCard},#{isCollege},#{address},#{graduationDate});
    </insert>
    <!--批量删除学生信息-->
    <delete id="DeleteStudentById">
        DELETE  from student where id in
        <foreach
            collection="ids" item="id" open="(" close=")" separator=",">
            #{id}
        </foreach>
    </delete>

    <!--分页查询学生列表-->
    <select id="page" resultType="com.itheima.pojo.Student">
        SELECT
            s.id,
            s.name,
            s.no,
            s.gender,
            s.phone,
            s.degree,
            s.id_card,
            s.is_college,
            s.address,
            s.graduation_date,
            s.violation_count,
            s.violation_score,
            s.clazz_id,
            s.create_time,
            s.update_time,
            c.name AS clazzName
        FROM student s
                 LEFT JOIN clazz c ON s.clazz_id = c.id
        ORDER BY s.create_time DESC
    </select>
</mapper>